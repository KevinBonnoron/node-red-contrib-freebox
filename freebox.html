<!-- Freebox server -->
<script type="text/javascript">
  RED.nodes.registerType("freebox-server", {
    category: "config",
    defaults: {
      host: { value: 'mafreebox.freebox.fr', required: true },
      port: { value: 80, required: true, validate: RED.validators.number() },
    },
    label: function () { return `${this.host}:${this.port}`; }
  });
</script>
<script type="text/x-red" data-template-name="freebox-server">
  <div class="form-row">
    <label for="node-config-input-host"><i class="icon-bookmark"></i> <span data-i18n="common.label.host"></span></label>
    <div style="display: inline-block; width: calc(100% - 105px)"><input type="text" id="node-config-input-host" data-i18n="[placeholder]common.label.host"></div>
  </div>
  <div class="form-row">
    <label for="node-config-input-port"><i class="icon-bookmark"></i> <span data-i18n="common.label.port"></span></label>
    <div style="display: inline-block; width: calc(100% - 105px)"><input type="text" id="node-config-input-port" data-i18n="[placeholder]common.label.port"></div>
  </div>
</script>

<!-- Connected devices -->
<script type="text/x-red" data-help-name="freebox-connected-devices">
  <p>Get connected devices on freebox network.</p>
</script>
<script type="text/javascript">
  RED.nodes.registerType("freebox-connected-devices", {
    category: "freebox",
    color: "#a6bbcf",
    defaults: {
      name: { value: "" },
      server: { value: "", type: "freebox-server", required: true },
    },
    inputs: 1,
    outputs: 1,
    icon: 'freebox-server.png',
    label: function () { return this.name || 'connected devices'; }
  });
</script>
<script type="text/x-red" data-template-name="freebox-connected-devices">
  <div class="form-row">
    <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
    <div style="display: inline-block; width: calc(100% - 105px)"><input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name"></div>
  </div>
  <div class="form-row">
    <label for="node-input-server"><i class="icon-file"></i> Server</label>
    <input  id="node-input-server" placeholder="server">
  </div>
</script>